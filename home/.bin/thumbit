#!/bin/bash
# Function to make picture a thumbnail
which mogrify &>/dev/null || return 1

for pic in "$@"; do
  case "$pic" in
    *.jpg)  thumb="${pic/.jpg/-thumb.jpg}"   ;;
    *.jpeg) thumb="${pic/.jpeg/-thumb.jpeg}" ;;
    *.png)  thumb="${pic/.png/-thumb.png}"   ;;
  esac

  [ -z "$thumb" ] && return 1

  cp "$pic" "$thumb" && mogrify -resize 20% "$thumb"
done
